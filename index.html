<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zinc Text-Based RPG Lobby Generator</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    :root {
      color-scheme: dark;
    }
    html, body {
      height: 100%;
    }
    body {
      font-family: "JetBrains Mono", "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    /* Native-app feel */
    * {
      -webkit-tap-highlight-color: transparent;
      user-select: none;
    }

    /* Minimal scanlines (quiet, no neon) */
    .scanlines {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 50;
      opacity: 0.14;
      background-image:
        repeating-linear-gradient(
          to bottom,
          rgba(255,255,255,0.05),
          rgba(255,255,255,0.05) 1px,
          rgba(0,0,0,0) 2px,
          rgba(0,0,0,0) 4px
        );
      mix-blend-mode: overlay;
    }
    .vignette {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 40;
      background: radial-gradient(circle at 50% 40%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.35) 60%, rgba(0,0,0,0.55) 100%);
    }

    .blink {
      animation: blink 1s steps(1, end) infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }

    /* Scrollbar: quiet/hidden */
    .quiet-scroll {
      scrollbar-width: none;
    }
    .quiet-scroll::-webkit-scrollbar {
      width: 0;
      height: 0;
    }

    /* Remove focus outline (we render selection ourselves) */
    button:focus { outline: none; }
  </style>
</head>
<body class="bg-zinc-950 text-zinc-200 min-h-screen">
  <div class="vignette"></div>
  <div class="scanlines"></div>

  <main class="min-h-screen flex items-center justify-center p-6">
    <div class="w-full max-w-5xl">
      <header class="flex items-start justify-between gap-4">
        <div>
          <div class="flex items-baseline gap-3">
            <h1 class="text-zinc-50 text-xl md:text-2xl tracking-normal uppercase">ZINC//LOBBY</h1>
            <span class="text-xs tracking-widest uppercase opacity-70">Single-Player</span>
          </div>
          <p class="text-xs opacity-70 mt-1">Quiet system. Low light. Single operator.</p>
        </div>

        <div class="text-right">
          <div class="text-xs tracking-widest uppercase opacity-70">NODE</div>
          <div id="nodeId" class="text-zinc-50 text-sm tracking-widest">ZNC-—</div>
        </div>
      </header>

      <section class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="border border-zinc-800 rounded-lg bg-zinc-900/40 p-4">
          <div class="flex items-center justify-between">
            <div class="text-xs tracking-widest uppercase opacity-70">Menu</div>
            <div class="text-xs tracking-widest uppercase opacity-70">↑ ↓ / Enter</div>
          </div>

          <div id="menu" class="mt-3 flex flex-col gap-2" role="listbox" aria-label="Lobby menu">
            <!-- Buttons inserted by JS -->
          </div>

          <div class="mt-4 border-t border-zinc-800 pt-3">
            <div class="text-xs opacity-70 leading-relaxed">
              <div class="tracking-widest uppercase">Operator</div>
              <div class="text-zinc-50">LOCAL</div>
            </div>
          </div>
        </div>

        <div class="border border-zinc-800 rounded-lg bg-zinc-900/40 p-4 flex flex-col h-[360px]">
          <div class="flex items-center justify-between">
            <div class="text-xs tracking-widest uppercase opacity-70">Console</div>
            <div id="clock" class="text-xs tracking-widest uppercase opacity-70">—</div>
          </div>

          <div class="mt-3 flex-1 border border-zinc-800 rounded-md bg-zinc-900/40 p-3 quiet-scroll overflow-auto">
            <div id="console" class="text-zinc-50 text-sm leading-relaxed whitespace-pre-wrap"></div>
          </div>

          <div class="mt-3 text-xs opacity-70">
            <span class="tracking-widest uppercase">Input</span>
            <span class="text-zinc-50">keyboard</span>
            <span class="opacity-70">/</span>
            <span class="tracking-widest uppercase">Profile</span>
            <span class="text-zinc-50">zinc-only</span>
          </div>
        </div>
      </section>

      <footer class="mt-6 flex items-center justify-between gap-4">
        <div class="text-xs tracking-widest uppercase opacity-70">Build v0.1.0</div>
        <div class="text-xs tracking-widest uppercase opacity-70">No items. No inventory. Lobby only.</div>
      </footer>
    </div>
  </main>

  <script>
    const ACTIONS = [
      {
        id: "start",
        label: "Start Mission",
        lines: [
          "> START_MISSION queued",
          "> No items loaded",
          "> Awaiting narrative module..."
        ]
      },
      {
        id: "load",
        label: "Load Data",
        lines: [
          "> LOAD_DATA requested",
          "> No save slots detected (demo lobby)"
        ]
      },
      {
        id: "settings",
        label: "Settings",
        lines: [
          "> SETTINGS open (stub)",
          "> Input: keyboard",
          "> Display: zinc-only"
        ]
      },
      {
        id: "credits",
        label: "Credits",
        lines: [
          "> CREDITS (stub)",
          "> Operator: You",
          "> System: Quiet"
        ]
      }
    ];

    const state = {
      selected: 0,
      locked: false,
      consoleLines: []
    };

    const menuEl = document.getElementById("menu");
    const consoleEl = document.getElementById("console");
    const nodeIdEl = document.getElementById("nodeId");
    const clockEl = document.getElementById("clock");

    function pad2(n) { return String(n).padStart(2, "0"); }

    function seedNodeId() {
      const a = Math.floor(Math.random() * 90) + 10;
      const b = Math.floor(Math.random() * 900) + 100;
      nodeIdEl.textContent = `ZNC-${a}${b}`;
    }

    function setClock() {
      const d = new Date();
      const hh = pad2(d.getHours());
      const mm = pad2(d.getMinutes());
      const ss = pad2(d.getSeconds());
      clockEl.textContent = `${hh}:${mm}:${ss}`;
    }

    function renderMenu() {
      menuEl.innerHTML = "";
      ACTIONS.forEach((a, idx) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.setAttribute("role", "option");
        btn.setAttribute("data-index", String(idx));
        btn.setAttribute("aria-selected", idx === state.selected ? "true" : "false");

        // No hover states. Active-only feedback.
        btn.className = [
          "w-full text-left",
          "px-3 py-3 rounded-md",
          "bg-zinc-800 border border-zinc-600",
          "active:translate-y-px",
          "transition-none"
        ].join(" ");

        if (idx === state.selected) {
          btn.className += " border-zinc-200 bg-zinc-800/60";
        }

        const left = document.createElement("div");
        left.className = "flex items-center justify-between gap-3";

        const label = document.createElement("div");
        label.className = "text-zinc-50";
        label.textContent = a.label;

        const code = document.createElement("div");
        code.className = "text-xs tracking-widest uppercase opacity-70";
        code.textContent = `M-${pad2(idx + 1)}`;

        left.appendChild(label);
        left.appendChild(code);
        btn.appendChild(left);

        btn.addEventListener("click", () => {
          setSelected(idx);
          runAction(idx);
        });

        menuEl.appendChild(btn);
      });
    }

    function setSelected(next) {
      const count = ACTIONS.length;
      state.selected = (next + count) % count;
      renderMenu();
    }

    function renderConsole(lines, withPrompt = true) {
      const frag = document.createDocumentFragment();

      for (const line of lines) {
        const div = document.createElement("div");
        div.textContent = line;
        frag.appendChild(div);
      }

      if (withPrompt) {
        const prompt = document.createElement("div");
        const ready = document.createElement("span");
        ready.textContent = "READY";

        const cursor = document.createElement("span");
        cursor.className = "blink";
        cursor.textContent = "_";

        prompt.appendChild(ready);
        prompt.appendChild(cursor);
        frag.appendChild(prompt);
      }

      consoleEl.innerHTML = "";
      consoleEl.appendChild(frag);

      // Keep view pinned to bottom.
      const scrollParent = consoleEl.parentElement;
      scrollParent.scrollTop = scrollParent.scrollHeight;
    }

    function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

    async function runAction(idx) {
      if (state.locked) return;
      state.locked = true;

      const action = ACTIONS[idx];
      const buffer = [];
      renderConsole(buffer, true);

      // Quiet, terminal-like emission.
      for (const line of action.lines) {
        buffer.push(line);
        renderConsole(buffer, true);
        await sleep(140);
      }

      // Small settle delay, then unlock.
      await sleep(120);
      state.locked = false;
    }

    function onKeyDown(e) {
      if (e.key === "ArrowUp") {
        e.preventDefault();
        setSelected(state.selected - 1);
      } else if (e.key === "ArrowDown") {
        e.preventDefault();
        setSelected(state.selected + 1);
      } else if (e.key === "Enter") {
        e.preventDefault();
        runAction(state.selected);
      }
    }

    // Boot
    seedNodeId();
    setClock();
    setInterval(setClock, 1000);

    renderMenu();
    renderConsole([], true);

    // Capture input globally (native-app feel)
    window.addEventListener("keydown", onKeyDown, { passive: false });
  </script>
</body>
</html>